<!doctype html><html lang=en-us><head><meta name=generator content="Hugo 0.85.0"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Rohit's Experience working with Tremor as a LFX Spring 2021 Mentee</title><meta name=description content="My acquaintance and learnings at Tremor"><meta name=author content="The Tremor Team"><meta property="og:title" content="Rohit's Experience working with Tremor as a LFX Spring 2021 Mentee"><meta property="og:description" content="My acquaintance and learnings at Tremor"><meta property="og:type" content="article"><meta property="og:url" content="/blog/2021-07-06-blog-rohit-property-based-testing/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-07-06T17:25:00+01:00"><meta property="article:modified_time" content="2021-07-06T17:25:00+01:00"><link rel=canonical href=/blog/2021-07-06-blog-rohit-property-based-testing/><link rel="shortcut icon" type=image/png href=/img/favicons/logo.png><link href=/css/font.css rel=stylesheet type=text/css><link href=/css/kube.css rel=stylesheet type=text/css><link href=/css/kube.legenda.css rel=stylesheet type=text/css><link href=/css/highlight.css rel=stylesheet type=text/css><link href=/css/master.css rel=stylesheet type=text/css><link href=/css/kube.demo.css rel=stylesheet type=text/css><link href=/css/custom.css rel=stylesheet type=text/css><link href=/css/syntax.css rel=stylesheet type=text/css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.3/gh-fork-ribbon.min.css><script src=/js/jquery-2.1.4.min.js type=text/javascript></script><script type=text/javascript src=/js/tocbot.min.js></script></head><body class=page-kube><header><div class=show-sm><div id=nav-toggle-box><div id=nav-toggle-brand><a href=/><img src=/logo-minimalism.png width=32 height=32 alt=Tremor></a></div><a data-component=toggleme data-target=#top href=# id=nav-toggle><i class=kube-menu></i></a></div></div><div class=hide-sm id=top><div id=top-brand><a href=/ title=home><img src=/img/common/logo.png height=64 width=285 alt=Tremor></a></div><nav id=top-nav-main><ul><li><a href=/blog/>Blog</a></li><li><a href=/faq/>Faq</a></li><li><a href=/getting-started/>Getting Started</a></li><li><a href=https://docs.tremor.rs/>Docs</a></li><li><a href=https://rfcs.tremor.rs/>RFCs</a></li><li><a href=/community/>Community</a></li><li><a href=/governance/>Governance</a></li><li><a href=https://bit.ly/tremor-discord>Community Chat</a></li></ul></nav><nav id=top-nav-extra><ul></ul></nav></div><a class=github-fork-ribbon href=https://github.com/tremor-rs/tremor-runtime data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a></header><main><div class=push-center itemscope itemtype=http://schema.org/BlogPosting><meta itemprop=name content="Rohit's Experience working with Tremor as a LFX Spring 2021 Mentee"><meta itemprop=description content="My acquaintance and learnings at Tremor"><meta itemprop=datePublished content="2021-07-06T17:25:00+01:00"><meta itemprop=dateModified content="2021-07-06T17:25:00+01:00"><meta itemprop=wordCount content="1417"><meta itemprop=keywords content><div id=hero><h2 itemprop=headline>Rohit's Experience working with Tremor as a LFX Spring 2021 Mentee</h2><blockquote itemprop=description>My acquaintance and learnings at Tremor</blockquote><time class=post-time><span class=icon><i class="fa fa-clock-o" aria-hidden=true></i></span>
<span>7 minute read</span>
<span class=icon><i class="fa fa-pencil" aria-hidden=true></i></span>
Published: <time datetime=2021-07-06T17:25:00+01:00>6 Jul, 2021</time></time></div><div id=post-box><div id=post itemprop=articleBody><h3 id=introduction>Introduction</h3><p>Hey, I am <a href=https://www.linkedin.com/in/kurious-diru/>Rohit Dandamudi</a> from India, about to complete my undergrad in CSE and will be working as a Software Engineer soon. I will be sharing my expereince at Tremor :)</p><h3 id=main-motivation-for-applying>Main motivation for applying</h3><p>My work involved writing &ldquo;Property-based tests for tremor-script&rdquo; and some of the reasons for applying are:</p><ul><li>It involved a new type of testing I never heard of</li><li>Be part of a sandbox project where I can learn and grow with the community</li><li>The concept of learning Erlang + Rust was very interesting to me and frankly out of my comfort zone, as a person used to Python and web development in general.</li></ul><h3 id=new-concepts-i-learned-specific-to-my-work>New concepts I learned specific to my work</h3><ul><li>Erlang and Rust<ul><li>My work mostly revolved around Erlang and a little Rust and I was completely new to this ecosystem, it didn&rsquo;t help to not find much resources or actively accessible community for Erlang.</li><li>I took this as a challenge and went through <a href=https://github.com/diru1100/learn_erlang>various resources to learn Erlang</a>, functional programming in general and I was able to see why this Language was involved to do the task at hand, <a href=https://twitter.com/heinz_gies>my mentor</a> is very passionate about Erlang and shared his thought-process, experience which helped me broaden my knowledge and how to approach any concept while learning something completely new.</li></ul></li><li>Tremor-script<ul><li>It is an interpreted expression-oriented language designed for the filtering, extraction, transformation and streaming of structured data in a stream or event-based processing system which is explicitly turing incomplete used to easily write programs specific to Tremor use-cases.</li><li>It is written using Rust but tested using Erlang</li></ul></li><li>Property based testing<ul><li><p>We have seen various types of testing approaches like Unit testing, Integration testing, End2End testing etc.</p></li><li><p>The purpose of tests is to check if our code is failing anywhere and test the same with various inputs.</p></li><li><p>Fig 1 shows different types of tests to easily understand which features are specialise in what</p><p><img src=/img/blog/LFC-blog-diru/tests-comparison-graph.png alt></p><p>Fig 1. Showing various tests wrt Feature compilance and Input scope covered [1]</p></li><li><p>Property based testing takes a new appraoch which has the right balance of randomness and examples. They also have this nice feature of called shrinking which shows a simple version of sample input which is failing your tests. However, Property based testing is not an ideal solution to use everywhere but it fits our use-case here i.e testing features of a custom-language.</p></li><li><p>Some of the resources I kept below may help understand Property based testing better</p></li></ul></li></ul><h3 id=property-based-testing-in-tremor-script>Property Based testing in tremor-script</h3><ul><li><p>Property based testing is implemented using <a href=http://quviq.com/documentation/eqc/>EQC</a></p></li><li><p>Quickcheck is the original library written for Haskell to do property based testing ( similar to xUnit for unit-tests) and EQC is the Erlang version of it</p></li><li><p>Erlang quickcheck or EQC is the version used here</p><ul><li>Implemented by QuviQ</li><li>Free version is <a href=http://www.quviq.com/downloads/>quickcheck mini</a></li></ul></li><li><p>Components in Property based test</p><ul><li>Property is an abstraction of a test case</li><li>Properties are written in erlang in tremor</li></ul></li><li><p>The files shown in Fig 2 make the <a href=https://github.com/tremor-rs/tremor-runtime/tree/main/tremor-script/eqc>eqc part of Tremor</a></p><p><img src=/img/blog/LFC-blog-diru/eqc-files.png alt></p><p>Fig 2. Files related to eqc</p><ul><li><strong>gen_script:</strong> This file contains functions which create the structure of the expected expression for a partticular feature/operation that we will be testing in tremor-script</li><li><strong>model.erl:</strong> Here, we run the model specification of each operation implemented in Erlang natively.</li><li><strong>pbt.erl:</strong> Some supporting headers needed by other files</li><li><strong>spec.erl:</strong> We make use of EQC functions here to create the input generators to test a feature.</li><li><strong>test_eqc.erl:</strong> The main property of the property based test is kept here.</li><li><strong>util.erl:</strong> Utility functions to support operations for easy handling.</li></ul></li><li><p>On a high level Fig 3 explains how the property we consider is checked</p></li></ul><p><img src=/img/blog/LFC-blog-diru/tremor-script-testing-workflow.png alt></p><p>Fig 3. Highlevel overview of Property based testing in termor-script</p><h3 id=example-thought-process>Example thought process</h3><ul><li><p>Here, I will explain about property based testing by going through a step-by-step approach on how a Property based test is written for an operation in termor-script</p></li><li><p><a href=https://docs.tremor.rs/tremor-script/#patch>Patch</a> is a operation in tremor-script that is performed on Expressions(everthing in tremor-script is an expression :p ) which contains multiple record(data-type) level field operations to be applied to a target record in order to transform a targetted record.</p></li><li><p>As patch has multiple operations inside it which have to be seperately created in every step, here is where the concept of incremental implementation comes into picture, if one makes sures if the PatchOperation is implemented before, we can take advantage of that here. For example: Merge is a seperate operation on records but it also is one of the patch operation.</p></li><li><p>gen_script.erl: The following code creates the structure needed for a patch operation as shown in Fig 4.</p><p>![]/img/blog/LFC-blog-diru/patch-structure.png)</p><p>Fig 4. Diagram showing Patch operation [4]</p><div class=highlight><pre class=chroma><code class=language-erlang data-lang=erlang><span class=c>%% the input are &#39;patch&#39; keyword, an Expression 
</span><span class=c>%% and the Operation to be performed
</span><span class=c></span><span class=nf>gen_</span><span class=p>({</span><span class=n>patch</span><span class=p>,</span> <span class=nv>Expr</span><span class=p>,</span> <span class=nv>PatchOperation</span><span class=p>})</span> <span class=o>-&gt;</span>
    <span class=p>[</span><span class=s>&#34;(&#34;</span><span class=p>,</span> <span class=s>&#34;patch &#34;</span><span class=p>,</span> <span class=n>gen_</span><span class=p>(</span><span class=nv>Expr</span><span class=p>),</span> <span class=s>&#34; of &#34;</span><span class=p>,</span>
     <span class=nn>lists</span><span class=p>:</span><span class=nf>join</span><span class=p>(</span><span class=s>&#34;,&#34;</span><span class=p>,</span>
        <span class=p>[[</span><span class=n>patch_operation</span><span class=p>(</span><span class=nv>Operation</span><span class=p>)]</span>
         <span class=p>||</span> <span class=nv>Operation</span> <span class=o>&lt;-</span> <span class=nv>PatchOperation</span><span class=p>]),</span>
     <span class=s>&#34; end&#34;</span><span class=p>,</span> <span class=s>&#34;)&#34;</span><span class=p>];</span>
</code></pre></div></li><li><p>model.erl:</p><ul><li>One of the ast_eval function in this file matches with patch_operation where the following input is passed <code>{patch, Expr, PatchOperation}</code>.</li><li>An anonymous function is there to update the PatchOperatoin into the respective structure needed for us to evaluate.</li><li>At the end we take advantage of floding in lists to implemente the Erlang implementation to get the required output.</li></ul><div class=highlight><pre class=chroma><code class=language-erlang data-lang=erlang><span class=c>% Operations covered by the folowing patch_operation are
</span><span class=c>% {merge, Value}
</span><span class=c>% {merge, Key, Value}
</span><span class=c>% {insert, Key, Value}
</span><span class=c>% {upsert, Key, Value}
</span><span class=c>% {update, Key, Value}
</span><span class=c>% {erase, Key}
</span><span class=c></span>
<span class=nf>patch_operation</span><span class=p>({</span><span class=n>insert</span><span class=p>,</span> <span class=nv>Key</span><span class=p>,</span> <span class=nv>Value</span><span class=p>},</span> <span class=nv>Acc</span><span class=p>)</span> <span class=o>-&gt;</span>
    <span class=nn>maps</span><span class=p>:</span><span class=nb>put</span><span class=p>(</span><span class=nv>Key</span><span class=p>,</span> <span class=nv>Value</span><span class=p>,</span> <span class=nv>Acc</span><span class=p>);</span>
<span class=nf>patch_operation</span><span class=p>({</span><span class=n>merge</span><span class=p>,</span> <span class=nv>Key</span><span class=p>,</span> <span class=nv>Value</span><span class=p>},</span> <span class=nv>Acc</span><span class=p>)</span> <span class=o>-&gt;</span>
    <span class=nn>maps</span><span class=p>:</span><span class=nf>fold</span><span class=p>(</span><span class=k>fun</span> <span class=n>combine_values</span><span class=o>/</span><span class=mi>3</span><span class=p>,</span> <span class=p>#{</span><span class=nv>Key</span> <span class=o>=&gt;</span> <span class=nv>Value</span><span class=p>},</span> <span class=nv>Acc</span><span class=p>);</span>
<span class=nf>patch_operation</span><span class=p>({</span><span class=n>upsert</span><span class=p>,</span> <span class=nv>Key</span><span class=p>,</span> <span class=nv>Value</span><span class=p>},</span> <span class=nv>Acc</span><span class=p>)</span> <span class=o>-&gt;</span>
    <span class=c>% does what we expect from upsert
</span><span class=c></span>    <span class=nn>maps</span><span class=p>:</span><span class=nb>put</span><span class=p>(</span><span class=nv>Key</span><span class=p>,</span> <span class=nv>Value</span><span class=p>,</span> <span class=nv>Acc</span><span class=p>);</span>
<span class=nf>patch_operation</span><span class=p>({</span><span class=nb>erase</span><span class=p>,</span> <span class=nv>Key</span><span class=p>},</span> <span class=nv>Acc</span><span class=p>)</span> <span class=o>-&gt;</span>
    <span class=nn>maps</span><span class=p>:</span><span class=nf>remove</span><span class=p>(</span><span class=nv>Key</span><span class=p>,</span> <span class=nv>Acc</span><span class=p>).</span>

<span class=p>-</span><span class=ni>spec</span> <span class=n>ast_eval</span><span class=p>(</span><span class=nl>#vars</span><span class=p>{},</span> <span class=p>{})</span> <span class=o>-&gt;</span> <span class=p>{</span><span class=nl>#vars</span><span class=p>{},</span>
                <span class=n>integer</span><span class=p>()</span> <span class=p>|</span> <span class=nb>float</span><span class=p>()</span> <span class=p>|</span> <span class=n>boolean</span><span class=p>()</span> <span class=p>|</span> <span class=n>binary</span><span class=p>()}.</span>

<span class=nf>ast_eval</span><span class=p>(</span><span class=nl>#vars</span><span class=p>{}</span> <span class=o>=</span> <span class=nv>S</span><span class=p>,</span> <span class=p>{</span><span class=n>patch</span><span class=p>,</span> <span class=nv>Expr</span><span class=p>,</span> <span class=nv>PatchOperation</span><span class=p>})</span> <span class=o>-&gt;</span>
    <span class=p>{_,</span> <span class=nv>ExprUpdate</span><span class=p>}</span> <span class=o>=</span> <span class=n>ast_eval</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>Expr</span><span class=p>),</span>
    <span class=nv>UpdatdPatchOperation</span> <span class=o>=</span> <span class=nn>lists</span><span class=p>:</span><span class=nf>map</span><span class=p>(</span><span class=k>fun</span> <span class=p>({</span><span class=nb>erase</span><span class=p>,</span> <span class=nv>Key</span><span class=p>})</span> <span class=o>-&gt;</span>
                         <span class=p>{_,</span> <span class=nv>UpdatedKey</span><span class=p>}</span> <span class=o>=</span> <span class=n>ast_eval</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>Key</span><span class=p>),</span>
                         <span class=p>{</span><span class=nb>erase</span><span class=p>,</span> <span class=nv>UpdatedKey</span><span class=p>};</span>
                     <span class=p>({</span><span class=n>merge</span><span class=p>,</span> <span class=nv>Key</span><span class=p>})</span> <span class=o>-&gt;</span>
                         <span class=p>{_,</span> <span class=nv>UpdatedKey</span><span class=p>}</span> <span class=o>=</span> <span class=n>ast_eval</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>Key</span><span class=p>),</span>
                         <span class=p>{</span><span class=n>merge</span><span class=p>,</span> <span class=nv>UpdatedKey</span><span class=p>};</span>
                     <span class=p>({</span><span class=n>insert</span><span class=p>,</span> <span class=nv>Key</span><span class=p>,</span> <span class=nv>Value</span><span class=p>})</span> <span class=o>-&gt;</span>
                         <span class=p>{_,</span> <span class=nv>UpdatedKey</span><span class=p>}</span> <span class=o>=</span> <span class=n>ast_eval</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>Key</span><span class=p>),</span>
                         <span class=p>{_,</span> <span class=nv>UpdatedValue</span><span class=p>}</span> <span class=o>=</span> <span class=n>ast_eval</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span>
                                      <span class=nv>Value</span><span class=p>),</span>
                         <span class=p>{</span><span class=n>insert</span><span class=p>,</span> <span class=nv>UpdatedKey</span><span class=p>,</span> <span class=nv>UpdatedValue</span><span class=p>};</span>
                     <span class=p>({</span><span class=n>upsert</span><span class=p>,</span> <span class=nv>Key</span><span class=p>,</span> <span class=nv>Value</span><span class=p>})</span> <span class=o>-&gt;</span>
                         <span class=p>{_,</span> <span class=nv>UpdatedKey</span><span class=p>}</span> <span class=o>=</span> <span class=n>ast_eval</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>Key</span><span class=p>),</span>
                         <span class=p>{_,</span> <span class=nv>UpdatedValue</span><span class=p>}</span> <span class=o>=</span> <span class=n>ast_eval</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span>
                                      <span class=nv>Value</span><span class=p>),</span>
                         <span class=p>{</span><span class=n>upsert</span><span class=p>,</span> <span class=nv>UpdatedKey</span><span class=p>,</span> <span class=nv>UpdatedValue</span><span class=p>};</span>
                     <span class=p>({</span><span class=n>update</span><span class=p>,</span> <span class=nv>Key</span><span class=p>,</span> <span class=nv>Value</span><span class=p>})</span> <span class=o>-&gt;</span>
                         <span class=p>{_,</span> <span class=nv>UpdatedKey</span><span class=p>}</span> <span class=o>=</span> <span class=n>ast_eval</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>Key</span><span class=p>),</span>
                         <span class=p>{_,</span> <span class=nv>UpdatedValue</span><span class=p>}</span> <span class=o>=</span> <span class=n>ast_eval</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span>
                                      <span class=nv>Value</span><span class=p>),</span>
                         <span class=p>{</span><span class=n>update</span><span class=p>,</span> <span class=nv>UpdatedKey</span><span class=p>,</span> <span class=nv>UpdatedValue</span><span class=p>};</span>
                     <span class=p>({</span><span class=n>merge</span><span class=p>,</span> <span class=nv>Key</span><span class=p>,</span> <span class=nv>Value</span><span class=p>})</span> <span class=o>-&gt;</span>
                         <span class=p>{_,</span> <span class=nv>UpdatedKey</span><span class=p>}</span> <span class=o>=</span> <span class=n>ast_eval</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>Key</span><span class=p>),</span>
                         <span class=p>{_,</span> <span class=nv>UpdatedValue</span><span class=p>}</span> <span class=o>=</span> <span class=n>ast_eval</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span>
                                      <span class=nv>Value</span><span class=p>),</span>
                         <span class=p>{</span><span class=n>merge</span><span class=p>,</span> <span class=nv>UpdatedKey</span><span class=p>,</span> <span class=nv>UpdatedValue</span><span class=p>};</span>
                     <span class=p>(</span><span class=nv>X</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nv>X</span>
                     <span class=k>end</span><span class=p>,</span>
                     <span class=nv>PatchOperation</span><span class=p>),</span>
    <span class=p>{</span><span class=nv>S</span><span class=p>,</span>
     <span class=nn>lists</span><span class=p>:</span><span class=nf>foldl</span><span class=p>(</span><span class=k>fun</span> <span class=n>patch_operation</span><span class=o>/</span><span class=mi>2</span><span class=p>,</span> <span class=nv>ExprUpdate</span><span class=p>,</span>
         <span class=nv>UpdatdPatchOperation</span><span class=p>)};</span>
</code></pre></div></li><li><p>spec.erl:</p><ul><li>The randomised input that we provide to test patch-feature comes from here, patch falls as a unary operation which can be performed on a records and has sub operations.</li><li>The randomisation is obtained by the frequency function we calls different generators.</li></ul><div class=highlight><pre class=chroma><code class=language-erlang data-lang=erlang><span class=c>% Operations generated by patch_operation
</span><span class=c>% {merge, Value}
</span><span class=c>% {merge, Key, Value}
</span><span class=c>% {insert, Key, Value}
</span><span class=c>% {upsert, Key, Value}
</span><span class=c>% {update, Key, Value}
</span><span class=c>% {erase, Key}
</span><span class=c></span><span class=nf>patch_operation</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span><span class=p>)</span> <span class=o>-&gt;</span>
    <span class=n>frequency</span><span class=p>([{</span><span class=mi>1</span><span class=p>,</span>
        <span class=p>{</span><span class=n>insert</span><span class=p>,</span> <span class=n>spec_inner_string</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span>
         <span class=n>spec_inner_no_float</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)}},</span>
           <span class=p>{</span><span class=mi>1</span><span class=p>,</span>
        <span class=p>{</span><span class=n>upsert</span><span class=p>,</span> <span class=n>spec_inner_string</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span>
         <span class=n>spec_inner_no_float</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)}},</span>
         <span class=p>{</span><span class=mi>1</span><span class=p>,</span>
        <span class=p>{</span><span class=n>update</span><span class=p>,</span> <span class=n>spec_inner_string</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span>
         <span class=n>spec_inner_no_float</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)}},</span>
           <span class=p>{</span><span class=mi>1</span><span class=p>,</span>
        <span class=p>{</span><span class=n>merge</span><span class=p>,</span> <span class=n>spec_inner_string</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span>
         <span class=n>spec_inner_record</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)}},</span>
           <span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=p>{</span><span class=nb>erase</span><span class=p>,</span> <span class=n>spec_inner_string</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)}},</span>
           <span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=p>{</span><span class=n>merge</span><span class=p>,</span> <span class=n>spec_inner_string</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)}}]).</span>

<span class=c>% spec_uop_record function returns {patch, generated_record, patch_operations}
</span><span class=c></span><span class=nf>spec_uop_record</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span><span class=p>)</span> <span class=k>when</span> <span class=nv>N</span> <span class=o>=&lt;</span> <span class=mi>1</span> <span class=o>-&gt;</span>
    <span class=o>?</span><span class=nv>SHRINK</span><span class=p>({</span><span class=n>patch</span><span class=p>,</span> <span class=n>literal_record</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span>
         <span class=o>?</span><span class=nv>SUCHTHAT</span><span class=p>(</span><span class=nv>X</span><span class=p>,</span> <span class=p>(</span><span class=n>list</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>patch_operation</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>))),</span>
               <span class=p>(</span><span class=nb>length</span><span class=p>(</span><span class=nv>X</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=mi>1</span><span class=p>))},</span>
        <span class=p>[</span><span class=n>literal_record</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)]);</span>
<span class=nf>spec_uop_record</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span><span class=p>)</span> <span class=o>-&gt;</span>
    <span class=o>?</span><span class=nv>SHRINK</span><span class=p>({</span><span class=n>patch</span><span class=p>,</span> <span class=n>spec_inner_record</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span>
         <span class=o>?</span><span class=nv>SUCHTHAT</span><span class=p>(</span><span class=nv>X</span><span class=p>,</span> <span class=p>(</span><span class=n>list</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>patch_operation</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>))),</span>
               <span class=p>(</span><span class=nb>length</span><span class=p>(</span><span class=nv>X</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=mi>1</span><span class=p>))},</span>
        <span class=p>[</span><span class=n>spec_inner_record</span><span class=p>(</span><span class=nv>S</span><span class=p>,</span> <span class=nv>N</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)]).</span>	
</code></pre></div></li></ul><h3 id=ending-thoughts-and-future-plans>Ending thoughts and Future plans:</h3><p>All in all, I had/will have wonderful time at Tremor. Over the past 3-months I learned how to learn new tech-stack, got developer wisdom and understood what truely working as a team is. I want to thank Heinz, Matthias, Darach and Ana for making it fun, collaborative and inclusive environment. Although, I didn&rsquo;t had a lot of knowledge in this area before, I am now confident I have the right mindset to pickup new things and grow together with the team.</p><p>I would like to continue contributing to the project and explore the rust part of it more. Apart from that I want to take more responsibilty, engage with new-comers and be part of other CNCF community events.</p><hr><h3 id=other-resources-i-compiled-while-going-through-the-mentorship-which-yall-might-find-useful->Other resources I compiled while going through the mentorship which y&rsquo;all might find useful 🙂</h3><ol><li><a href=https://medium.com/criteo-engineering/introduction-to-property-based-testing-f5236229d237>Introduction to Property Based Testing</a></li><li><a href="https://www.youtube.com/watch?v=QyJZzq0v7Z4">Why isn&rsquo;t functional programming the norm</a></li><li><a href=https://github.com/kurious-diru/learn_rust>https://github.com/kurious-diru/learn_rust</a></li><li><a href=https://docs.tremor.rs/tremor-script/#patch>https://docs.tremor.rs/tremor-script/#patch</a></li><li>Better to use tools:<ul><li><ul><li>cat - bat - <a href=https://github.com/sharkdp/bat>https://github.com/sharkdp/bat</a></li></ul></li><li><ul><li>grep - ripgrep - <a href=https://github.com/BurntSushi/ripgrep>https://github.com/BurntSushi/ripgrep</a></li></ul></li><li><ul><li>top - htop - <a href=https://github.com/hishamhm/htop>https://github.com/hishamhm/htop</a></li></ul></li><li><ul><li>hexdump - hexyl - <a href=https://github.com/sharkdp/hexyl>https://github.com/sharkdp/hexyl</a></li></ul></li></ul></li><li>Related to EQC:<ul><li><a href=https://www.erlang-factory.com/upload/presentations/19/quickchecktutorial_tartsjhughes.pdf>https://www.erlang-factory.com/upload/presentations/19/quickchecktutorial_tartsjhughes.pdf</a></li><li>Resources mentioned in this issue <a href=https://github.com/tremor-rs/tremor-runtime/issues/721>https://github.com/tremor-rs/tremor-runtime/issues/721</a></li></ul></li></ol></div><div><p>Published
by <span itemprop=author>The Tremor Team</span>
<time datetime=2021-07-06T17:25:00+01:00>6 Jul, 2021</time>
in <span itemprop=articleSection><a href=/categories/general/>general</a></span>
using <span itemprop=wordCount>1417</span> words.</p></div></div></div></main><footer><footer id=footer><nav><ul><li><a href=https://docs.tremor.rs/CodeOfConduct/>Code of Conduct</a></li><li><a href=https://www.tremor.rs/>The Tremor Project</a></li><li><a href=/blog/>Blog</a></li><li><a href=https://twitter.com/TremorDEBS>@TremorDEBS</a></li><li><a href=https://www.cncf.io/><img src=/img/cncf-color.svg alt="CNCF Logo" style=width:100px></a></li></ul></nav><p>&copy; 2020 The Tremor Contributors. Content under ASL 2 License. Theme
under MIT License.<br>Copyright The Linux Foundation. All rights reserved. The Linux Foundation
has registered trademarks and uses trademarks. For a list of trademarks of
The Linux Foundation, please see our
<a href=https://www.linuxfoundation.org/trademark-usage/>Trademark Usage</a>
page.<br>We are a
<a href=https://www.cncf.io/sandbox-projects/>Cloud Native Computing Foundation sandbox project</a></p></footer></footer><script src=/js/kube.js type=text/javascript></script><script src=/js/kube.legenda.js type=text/javascript></script><script src=/js/master.js type=text/javascript></script></body></html>